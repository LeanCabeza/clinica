<div class="fondo">
  <div id="shadow" class="contenedor scale-in-center">
    <div>
      <h1 class="text">
        <b>Registrar {{this.tipo}}</b>
        <hr>
      </h1>

      <a class="registerBtn" (click)="this.tipo ='Paciente'">Registrar Paciente</a>
      <a class="registerBtn ms-5" (click)="this.tipo ='Especialista'">Registrar Especialista</a>
      <a class="registerBtn ms-5" *ngIf="this.flagAdmin == true" (click)="this.tipo ='Admin'">Registrar ADMIN</a>



      <form *ngIf="tipo == 'Paciente'" [formGroup]="usuarioForm">
        <div class="row">
          <div class="col">
            <label>Nombre</label>
            <input type="text" class="form-control" placeholder="Tu Nombre" formControlName="nombre">
            <div *ngIf="usuarioForm.get('nombre')?.hasError('required') && usuarioForm.get('nombre')?.touched"
              class="error-message">
              El campo Nombre es requerido.
            </div>
            <div *ngIf="usuarioForm.get('nombre')?.hasError('minlength') && usuarioForm.get('nombre')?.touched"
              class="error-message">
              El campo Nombre debe tener al menos 2 caracteres.
            </div>
          </div>
          <div class="col">
            <label>Apellido</label>
            <input type="text" class="form-control" placeholder="Tu Apellido" formControlName="apellido">
            <div *ngIf="usuarioForm.get('apellido')?.hasError('required') && usuarioForm.get('apellido')?.touched"
              class="error-message">
              El campo Apellido es requerido.
            </div>
            <div *ngIf="usuarioForm.get('apellido')?.hasError('minlength') && usuarioForm.get('apellido')?.touched"
              class="error-message">
              El campo Apellido debe tener al menos 2 caracteres.
            </div>
          </div>
          <div>
            <label>Email</label>
            <input type="email" class="form-control" placeholder="email@ejemplo.com" formControlName="email">
            <div *ngIf="usuarioForm.get('email')?.hasError('required') && usuarioForm.get('email')?.touched"
              class="error-message">
              El campo Email es requerido.
            </div>
            <div *ngIf="usuarioForm.get('email')?.hasError('email') && usuarioForm.get('email')?.touched"
              class="error-message">
              Ingresa un correo electrónico válido.
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label>Edad</label>
            <input type="number" class="form-control" placeholder="18" formControlName="edad">
            <div *ngIf="usuarioForm.get('edad')?.hasError('required') && usuarioForm.get('edad')?.touched"
              class="error-message">
              El campo Edad es requerido.
            </div>
            <div *ngIf="usuarioForm.get('edad')?.hasError('minlength') && usuarioForm.get('edad')?.touched"
              class="error-message">
              La edad debe ser mayor o igual a 18.
            </div>
          </div>
          <div class="col">
            <label>DNI</label>
            <input type="number" class="form-control" placeholder="44555333" formControlName="dni">
            <div *ngIf="usuarioForm.get('dni')?.hasError('required') && usuarioForm.get('dni')?.touched"
              class="error-message">
              El campo DNI es requerido.
            </div>
            <div *ngIf="usuarioForm.get('dni')?.hasError('minlength') && usuarioForm.get('dni')?.touched"
              class="error-message">
              El DNI debe tener al menos 6 caracteres.
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label>Contraseña</label>
            <input type="password" class="form-control" placeholder="Contraseña" formControlName="password">
            <div *ngIf="usuarioForm.get('password')?.hasError('required') && usuarioForm.get('password')?.touched"
              class="error-message">
              El campo Contraseña es requerido.
            </div>
            <div *ngIf="usuarioForm.get('password')?.hasError('minlength') && usuarioForm.get('password')?.touched"
              class="error-message">
              La contraseña debe tener al menos 6 caracteres.
            </div>
          </div>
          <div class="col">
            <label>Obra Social</label>
            <select class="form-control" formControlName="obraSocial">
              <option>Osde</option>
              <option>SwissMedical</option>
              <option>Galeno</option>
              <option>OSECAC</option>
              <option>Sancor</option>
            </select>
          </div>

          <div>
            <label for="exampleFormControlFile1">Foto</label>
            <br>
            <input type="file" class="form-control-file" id="exampleFormControlFile1"
              (change)="onFileSelected1($event)">
          </div>
          <div>
            <label for="exampleFormControlFile2">Foto2</label>
            <br>
            <input type="file" class="form-control-file" id="exampleFormControlFile2"
              (change)="onFileSelected2($event)">
          </div>
        </div>

        <div class="position-absolute bottom-0 end-0 p-4">
          <button class="registerBtn" (click)="registrarPaciente()" [disabled]="!usuarioForm.valid">
            Registrarse
          </button>
        </div>
      </form>

      <form *ngIf="this.tipo == 'Especialista'" [formGroup]="usuarioForm">

        <div class="row">
          <div class="col">
            <label>Nombre</label>
            <input type="text" class="form-control" placeholder="Tu Nombre" formControlName="nombre">
            <div *ngIf="usuarioForm.get('nombre')?.hasError('required') && usuarioForm.get('nombre')?.touched"
              class="error-message">
              El campo Nombre es requerido.
            </div>
            <div *ngIf="usuarioForm.get('nombre')?.hasError('minlength') && usuarioForm.get('nombre')?.touched"
              class="error-message">
              El campo Nombre debe tener al menos 2 caracteres.
            </div>
          </div>
          <div class="col">
            <label>Apellido</label>
            <input type="text" class="form-control" placeholder="Tu Apellido" formControlName="apellido">
            <div *ngIf="usuarioForm.get('apellido')?.hasError('required') && usuarioForm.get('apellido')?.touched"
              class="error-message">
              El campo Apellido es requerido.
            </div>
            <div *ngIf="usuarioForm.get('apellido')?.hasError('minlength') && usuarioForm.get('apellido')?.touched"
              class="error-message">
              El campo Apellido debe tener al menos 2 caracteres.
            </div>
          </div>
          <div>
            <label>Email</label>
            <input type="email" class="form-control" placeholder="email@ejemplo.com" formControlName="email">
            <div *ngIf="usuarioForm.get('email')?.hasError('required') && usuarioForm.get('email')?.touched"
              class="error-message">
              El campo Email es requerido.
            </div>
            <div *ngIf="usuarioForm.get('email')?.hasError('email') && usuarioForm.get('email')?.touched"
              class="error-message">
              Ingresa un correo electrónico válido.
            </div>
          </div>
        </div>

        <div class="row" [formGroup]="usuarioForm">
          <div class="col">
            <label>Edad</label>
            <input type="number" class="form-control" placeholder="18" formControlName="edad">
            <div *ngIf="usuarioForm.get('edad')?.hasError('required') && usuarioForm.get('edad')?.touched"
              class="error-message">
              El campo Edad es requerido.
            </div>
            <div *ngIf="usuarioForm.get('edad')?.hasError('minlength') && usuarioForm.get('edad')?.touched"
              class="error-message">
              La edad debe ser mayor o igual a 18.
            </div>
          </div>
          <div class="col">
            <label>DNI</label>
            <input type="number" class="form-control" placeholder="44555333" formControlName="dni">
            <div *ngIf="usuarioForm.get('dni')?.hasError('required') && usuarioForm.get('dni')?.touched"
              class="error-message">
              El campo DNI es requerido.
            </div>
            <div *ngIf="usuarioForm.get('dni')?.hasError('minlength') && usuarioForm.get('dni')?.touched"
              class="error-message">
              El DNI debe tener al menos 6 caracteres.
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label>Contraseña</label>
            <input type="password" class="form-control" placeholder="Contraseña" formControlName="password">
            <div *ngIf="usuarioForm.get('password')?.hasError('required') && usuarioForm.get('password')?.touched"
              class="error-message">
              El campo Contraseña es requerido.
            </div>
            <div *ngIf="usuarioForm.get('password')?.hasError('minlength') && usuarioForm.get('password')?.touched"
              class="error-message">
              La contraseña debe tener al menos 6 caracteres.
            </div>
          </div>
          <div class="col">
            <label>Especialidad</label>
            <select class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="usuario.especialidad">
              <option>Urologo</option>
              <option>Flevologo</option>
              <option>Dermatologo</option>
              <option>Traumatologo</option>
              <option>Oculista</option>
            </select>
          </div>

          <div>
            <label for="exampleFormControlFileEspecialista">Foto</label>
            <br>
            <input type="file" class="form-control-file" id="exampleFormControlFileEspecialista"
              (change)="onFileSelected1($event)">
          </div>
        </div>



        <div class="position-absolute bottom-0 end-0 p-4">
          <a class="registerBtn" (click)="registrarEspecialista()">Registrarse</a>
        </div>

      </form>

      <form *ngIf="this.tipo == 'Admin'" [formGroup]="usuarioForm">

        <div class="row">
          <div class="col">
            <label>Nombre</label>
            <input type="text" class="form-control" placeholder="Tu Nombre" formControlName="nombre">
            <div *ngIf="usuarioForm.get('nombre')?.hasError('required') && usuarioForm.get('nombre')?.touched"
              class="error-message">
              El campo Nombre es requerido.
            </div>
            <div *ngIf="usuarioForm.get('nombre')?.hasError('minlength') && usuarioForm.get('nombre')?.touched"
              class="error-message">
              El campo Nombre debe tener al menos 2 caracteres.
            </div>
          </div>
          <div class="col">
            <label>Apellido</label>
            <input type="text" class="form-control" placeholder="Tu Apellido" formControlName="apellido">
            <div *ngIf="usuarioForm.get('apellido')?.hasError('required') && usuarioForm.get('apellido')?.touched"
              class="error-message">
              El campo Apellido es requerido.
            </div>
            <div *ngIf="usuarioForm.get('apellido')?.hasError('minlength') && usuarioForm.get('apellido')?.touched"
              class="error-message">
              El campo Apellido debe tener al menos 2 caracteres.
            </div>
          </div>
          <div>
            <label>Email</label>
            <input type="email" class="form-control" placeholder="email@ejemplo.com" formControlName="email">
            <div *ngIf="usuarioForm.get('email')?.hasError('required') && usuarioForm.get('email')?.touched"
              class="error-message">
              El campo Email es requerido.
            </div>
            <div *ngIf="usuarioForm.get('email')?.hasError('email') && usuarioForm.get('email')?.touched"
              class="error-message">
              Ingresa un correo electrónico válido.
            </div>
          </div>
        </div>

        <div class="row" [formGroup]="usuarioForm">
          <div class="col">
            <label>Edad</label>
            <input type="number" class="form-control" placeholder="18" formControlName="edad">
            <div *ngIf="usuarioForm.get('edad')?.hasError('required') && usuarioForm.get('edad')?.touched"
              class="error-message">
              El campo Edad es requerido.
            </div>
            <div *ngIf="usuarioForm.get('edad')?.hasError('minlength') && usuarioForm.get('edad')?.touched"
              class="error-message">
              La edad debe ser mayor o igual a 18.
            </div>
          </div>
          <div class="col">
            <label>DNI</label>
            <input type="number" class="form-control" placeholder="44555333" formControlName="dni">
            <div *ngIf="usuarioForm.get('dni')?.hasError('required') && usuarioForm.get('dni')?.touched"
              class="error-message">
              El campo DNI es requerido.
            </div>
            <div *ngIf="usuarioForm.get('dni')?.hasError('minlength') && usuarioForm.get('dni')?.touched"
              class="error-message">
              El DNI debe tener al menos 6 caracteres.
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label>Contraseña</label>
            <input type="password" class="form-control" placeholder="Contraseña" formControlName="password">
            <div *ngIf="usuarioForm.get('password')?.hasError('required') && usuarioForm.get('password')?.touched"
              class="error-message">
              El campo Contraseña es requerido.
            </div>
            <div *ngIf="usuarioForm.get('password')?.hasError('minlength') && usuarioForm.get('password')?.touched"
              class="error-message">
              La contraseña debe tener al menos 6 caracteres.
            </div>
          </div>

          <div>
            <label for="exampleFormControlFileAdmin">Foto</label>
            <br>
            <input type="file" class="form-control-file" id="exampleFormControlFileAdmin"
              (change)="onFileSelected1($event)">
          </div>
        </div>



        <div class="position-absolute bottom-0 end-0 p-4">
          <a class="registerBtn" (click)="registrarAdmin()">Registrarse</a>
        </div>

      </form>

    </div>
  </div>